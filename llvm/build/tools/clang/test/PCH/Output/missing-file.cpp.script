echo 'struct S{char c; int i; }; void foo() {}' > /home/jazouani/llvm/build/tools/clang/test/PCH/Output/missing-file.cpp.tmp.h &&
echo 'template <typename T> void tf() { T::foo(); }' >> /home/jazouani/llvm/build/tools/clang/test/PCH/Output/missing-file.cpp.tmp.h &&
/home/jazouani/llvm/build/Release+Asserts/bin/clang -cc1 -internal-isystem /home/jazouani/llvm/build/Release+Asserts/bin/../lib/clang/3.2/include -x c++ -emit-pch -o /home/jazouani/llvm/build/tools/clang/test/PCH/Output/missing-file.cpp.tmp.h.pch /home/jazouani/llvm/build/tools/clang/test/PCH/Output/missing-file.cpp.tmp.h &&
rm /home/jazouani/llvm/build/tools/clang/test/PCH/Output/missing-file.cpp.tmp.h || rm /home/jazouani/llvm/build/tools/clang/test/PCH/Output/missing-file.cpp.tmp.h || rm /home/jazouani/llvm/build/tools/clang/test/PCH/Output/missing-file.cpp.tmp.h &&
not /home/jazouani/llvm/build/Release+Asserts/bin/clang -cc1 -internal-isystem /home/jazouani/llvm/build/Release+Asserts/bin/../lib/clang/3.2/include -include-pch /home/jazouani/llvm/build/tools/clang/test/PCH/Output/missing-file.cpp.tmp.h.pch -emit-obj -o /home/jazouani/llvm/build/tools/clang/test/PCH/Output/missing-file.cpp.tmp.o /home/jazouani/llvm/llvm-3.2/tools/clang/test/PCH/missing-file.cpp 2> /home/jazouani/llvm/build/tools/clang/test/PCH/Output/missing-file.cpp.tmp.stderr &&
grep 'could not find file' /home/jazouani/llvm/build/tools/clang/test/PCH/Output/missing-file.cpp.tmp.stderr
