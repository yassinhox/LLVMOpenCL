rm -rf /home/jazouani/llvm/build/tools/clang/test/Tooling/Output/auto-detect-from-source-parent-of-cwd.cpp.tmp &&
mkdir -p /home/jazouani/llvm/build/tools/clang/test/Tooling/Output/auto-detect-from-source-parent-of-cwd.cpp.tmp/abc/def/ijk/qwe &&
echo "[{\"directory\":\".\",\"command\":\"clang++ -c /home/jazouani/llvm/build/tools/clang/test/Tooling/Output/auto-detect-from-source-parent-of-cwd.cpp.tmp/abc/def/ijk/qwe/test.cpp\",\"file\":\"/home/jazouani/llvm/build/tools/clang/test/Tooling/Output/auto-detect-from-source-parent-of-cwd.cpp.tmp/abc/def/ijk/qwe/test.cpp\"}]" | sed -e 's/\\/\\\\/g' > /home/jazouani/llvm/build/tools/clang/test/Tooling/Output/auto-detect-from-source-parent-of-cwd.cpp.tmp/compile_commands.json &&
cp "/home/jazouani/llvm/llvm-3.2/tools/clang/test/Tooling/auto-detect-from-source-parent-of-cwd.cpp" "/home/jazouani/llvm/build/tools/clang/test/Tooling/Output/auto-detect-from-source-parent-of-cwd.cpp.tmp/abc/def/ijk/qwe/test.cpp" &&
PWD="/home/jazouani/llvm/build/tools/clang/test/Tooling/Output/auto-detect-from-source-parent-of-cwd.cpp.tmp/abc/def" clang-check "ijk/qwe/test.cpp" 2>&1 | FileCheck /home/jazouani/llvm/llvm-3.2/tools/clang/test/Tooling/auto-detect-from-source-parent-of-cwd.cpp
